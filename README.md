# 📋 专利撰写助手 v2.0

一个基于AI的专利撰写助手系统，支持多厂商API和多线程处理，专门用于生成服务器技术领域的创新专利文档。

## 🚀 新功能特性

### v2.0 更新内容
- ✅ **多厂商API支持** - 支持Google Gemini、OpenAI、Anthropic Claude、DeepSeek、智谱AI等多个厂商
- ✅ **自定义API配置** - 支持自定义Base URL和模型名称
- ✅ **多线程处理** - 并发生成专利创意和文档，大幅提升生成速度
- ✅ **实时进度显示** - 显示生成进度和耗时统计
- ✅ **连接测试功能** - 一键测试API连接状态
- ✅ **性能配置** - 可调节线程数量和生成参数
- ✅ **增强的错误处理** - 更好的错误提示和异常处理

### 核心功能
- 🎯 **专利创意生成** - 批量生成服务器技术领域的创新专利标题和特性
- 📄 **完整专利撰写** - 生成包含7个标准章节的完整专利文档
- 📚 **专利管理** - 查看、编辑、导出和删除专利文档
- 🔧 **专利优化** - 使用AI优化专利内容的专业性和完整性
- 📊 **统计分析** - 显示生成统计和成功率
- 💾 **多格式导出** - 支持JSON和文本格式导出

## 🛠️ 支持的AI厂商

| 厂商 | 模型 | 说明 |
|------|------|------|
| **Google Gemini** | gemini-2.0-flash-exp, gemini-2.5-flash-preview-05-20 | 默认推荐 |
| **OpenAI** | gpt-4o, gpt-4o-mini, gpt-4-turbo | 需要OpenAI API密钥 |
| **Anthropic Claude** | claude-3-5-sonnet-20241022, claude-3-5-haiku-20241022 | 需要Anthropic API密钥 |
| **DeepSeek** | deepseek-chat, deepseek-coder | 国产优秀模型 |
| **智谱AI** | glm-4-plus, glm-4-0520 | 国产模型 |
| **自定义** | 任意模型 | 支持自定义Base URL |

## 📦 安装和使用

### 环境要求
- Python 3.8+
- Windows 10/11 (推荐)
- 稳定的网络连接

### 快速开始

1. **克隆项目**
```bash
git clone <repository-url>
cd patent_tool
```

2. **安装依赖**
```bash
pip install -r requirements.txt
```

3. **启动应用**
```bash
# 方式1：使用启动脚本（推荐）
start_app.bat

# 方式2：直接启动
python run.py

# 方式3：使用Streamlit
streamlit run app.py --server.port=8501
```

4. **访问应用**
打开浏览器访问：http://localhost:8501

### 配置说明

#### API密钥配置
在侧边栏的"系统配置"中：
1. 选择模型厂商
2. 输入对应的API密钥
3. 选择或输入模型名称
4. 点击"测试连接"验证配置

#### 性能配置
- **创意生成线程数**：1-5个线程，推荐3个
- **专利生成线程数**：1-3个线程，推荐2个
- **创意温度**：0.1-1.0，推荐0.8（更有创意）
- **专利温度**：0.1-1.0，推荐0.7（更专业）

## 📋 使用指南

### 1. 生成专利创意
- 设置生成数量（1-20个）
- 点击"开始生成"
- 查看生成的创意列表
- 选择优质创意进行下一步

### 2. 生成完整专利
支持三种方式：
- **从创意生成**：选择已生成的创意
- **手动输入**：自定义标题和特性
- **批量生成**：一次性生成所有创意的完整专利

### 3. 管理专利
- 查看所有生成的专利
- 预览专利内容
- 编辑和优化专利
- 导出为JSON或文本格式

### 4. 优化专利
- 选择要优化的专利
- 选择优化重点（全面优化、技术方案等）
- 对比优化前后的内容
- 保存优化结果

## 📊 专利文档结构

生成的专利文档包含以下7个标准章节：

1. **专业领域** - 技术所属领域和应用场景
2. **技术背景与现有技术** - 相关技术发展现状和流程图
3. **现有技术缺点与发明目的** - 技术问题分析和发明目标
4. **本发明技术详细方案** - 详细实施方案、公式和流程图
5. **关键点与保护范围** - 创新点和权利要求
6. **技术优势对比** - 与现有技术的量化对比
7. **替代实施方案** - 多种实施方案和适用场景

## 🔧 技术架构

### 核心组件
- **GeminiClient** - 多厂商API客户端，支持并发调用
- **PatentAssistant** - 专利生成核心逻辑，线程安全
- **PromptTemplates** - 优化的提示词模板
- **Streamlit App** - 现代化Web界面

### 技术特点
- **多线程处理** - 使用ThreadPoolExecutor实现并发
- **线程安全** - 使用锁机制保护共享资源
- **错误恢复** - 完善的异常处理和重试机制
- **进度跟踪** - 实时显示生成进度和统计信息

## 📁 项目结构

```
patent_tool/
├── app.py                 # Streamlit Web应用
├── gemini_client.py       # 多厂商API客户端
├── patent_assistant.py    # 专利生成核心功能
├── prompt_templates.py    # 提示词模板
├── requirements.txt       # 项目依赖
├── run.py                # 一键启动脚本
├── start_app.bat         # Windows启动脚本
├── README.md             # 项目说明
└── 使用说明.txt          # 简要使用说明
```

## 🚨 故障排除

### 常见问题

1. **端口被占用**
   - 启动脚本会自动停止现有进程
   - 手动停止：`taskkill /f /im python.exe`

2. **API连接失败**
   - 检查API密钥是否正确
   - 确认网络连接正常
   - 使用"测试连接"功能验证

3. **生成速度慢**
   - 减少线程数量
   - 降低生成数量
   - 检查网络延迟

4. **内存不足**
   - 减少并发线程数
   - 分批生成专利
   - 及时清理生成结果

### 性能优化建议

- **创意生成**：使用3个线程，温度0.8
- **专利生成**：使用2个线程，温度0.7
- **批量处理**：建议每批不超过10个
- **网络优化**：使用稳定的网络连接

## 📈 版本历史

### v2.0 (2024-12-28)
- 新增多厂商API支持
- 实现多线程并发处理
- 添加自定义配置选项
- 优化用户界面和体验
- 增强错误处理机制

### v1.0 (2024-12-27)
- 基础专利生成功能
- Streamlit Web界面
- 专利管理和导出
- 专利优化功能

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进项目！

### 开发环境设置
1. Fork项目
2. 创建功能分支
3. 提交更改
4. 创建Pull Request

## 📄 许可证

本项目采用MIT许可证 - 查看[LICENSE](LICENSE)文件了解详情。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交Issue
- 发送邮件
- 项目讨论区

---

**专利撰写助手 v2.0** - 让专利撰写更智能、更高效！
